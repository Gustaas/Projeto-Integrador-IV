<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja Online</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/carrinhoEstilo.css}">
    <script src="../js/script.js" defer></script>
    <style>
        /* Adicione estilos para o modal, se necessário */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }

        .modal-thumbnails {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-thumbnails img {
            width: 50px;
            height: auto;
            margin: 0 5px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <img th:src="@{/img/imagem.png}" alt="Logo da Loja" style="height: 50px;">
        </div>
        <nav>
            <div class="imagem">
                <a th:href="@{/produtos/carrinho}">Carrinho</a>
                <img th:src="@{/img/carrinho.png}" style="height: 50px;" alt="">
                <span id="cart-count">0</span>
            </div>
        </nav>
    </header>

    <main>
        <div class="product-list">
            <div class="product-card">
                <img th:src="@{/img/garrafa1.jpg}" alt="Produto 1" class="product-image">
                <h3>Nome do Produto 1</h3>
                <p>Preço: R$ 99,99</p>
                <a href="#" class="detail-button" data-product-id="1">Detalhes</a>
                <button class="buy-button" onclick="addToCart('Nome do Produto 1', 'R$ 99,99')">Comprar</button>
            </div>
            <div class="product-card">
                <img th:src="@{/img/garrafa2.jpg}" alt="Produto 2" class="product-image">
                <h3>Nome do Produto 2</h3>
                <p>Preço: R$ 149,99</p>
                <a href="#" class="detail-button" data-product-id="2">Detalhes</a>
                <button class="buy-button" onclick="addToCart('Nome do Produto 2', 'R$ 149,99')">Comprar</button>
            </div>
            <!-- Adicione outros produtos aqui -->
        </div>
    </main>

    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="close-modal">&times;</span>
            <img id="modal-image" src="" alt="Imagem do Produto">
            <div class="modal-thumbnails">
                <button class="prev" id="prev">&lt;</button>
                <img id="modal-thumbnail" src="" alt="Imagem do Produto">
                <button class="next" id="next">&gt;</button>
            </div>
            <div id="modal-product-info">
                <h2 id="modal-product-name">Nome do Produto</h2>
                <p id="modal-product-description">Descrição do Produto</p>
                <p id="modal-product-price">Preço</p>
                <p id="modal-product-rating">Avaliação</p>
                <button id="modal-buy-button"
                    onclick="addToCart(document.getElementById('modal-product-name').textContent, document.getElementById('modal-product-price').textContent)">Comprar</button>
            </div>
        </div>
    </div>

    <script>


        // Simulando um banco de dados de produtos
        const products = [
            {
                id: 1,
                name: "Nome do Produto 1",
                description: "Descrição detalhada do Produto 1.",
                price: "R$ 99,99",
                rating: "★★★★☆",
                mainImage: "garrafa1.jpg",
                thumbnails: ["garrafa1.jpg", "garrafa2.jpg", "garrafa3.jpg"]
            },
            {
                id: 2,
                name: "Nome do Produto 2",
                description: "Descrição detalhada do Produto 2.",
                price: "R$ 149,99",
                rating: "★★★★★",
                mainImage: "garrafa2.jpg",
                thumbnails: ["garrafa2.jpg", "garrafa1.jpg", "garrafa3.jpg"]
            },
            // Adicione mais produtos conforme necessário
        ];


        document.addEventListener('DOMContentLoaded', function () {
            const detailButtons = document.querySelectorAll('.detail-button');
            const modal = document.getElementById('modal');
            const closeModal = document.getElementById('close-modal');
            const modalImage = document.getElementById('modal-image');
            const modalThumbnail = document.getElementById('modal-thumbnail');
            const modalProductName = document.getElementById('modal-product-name');
            const modalProductDescription = document.getElementById('modal-product-description');
            const modalProductPrice = document.getElementById('modal-product-price');
            const modalProductRating = document.getElementById('modal-product-rating');

            // Função para abrir o modal e preencher as informações do produto
            detailButtons.forEach(button => {
                button.addEventListener('click', function (event) {
                    event.preventDefault();
                    const productId = button.getAttribute('data-product-id');
                    const product = products.find(p => p.id == productId);

                    if (product) {
                        modalImage.src = `../img/${product.mainImage}`; // Caminho da imagem principal
                        modalThumbnail.src = `../img/${product.thumbnails[0]}`; // Caminho da miniatura
                        modalProductName.textContent = product.name;
                        modalProductDescription.textContent = product.description;
                        modalProductPrice.textContent = product.price;
                        modalProductRating.textContent = product.rating;
                        modal.style.display = 'block'; // Exibe o modal
                    }
                });
            });

            // Fechar o modal
            closeModal.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            // Fechar o modal ao clicar fora dele
            window.addEventListener('click', function (event) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
            });
        });


        // Simulação da função addToCart (para você implementar)
        function addToCart(productName, productPrice) {
            // Lógica para adicionar ao carrinho
            console.log(`Adicionado ao carrinho: ${productName} - ${productPrice}`);
        }
    </script>
</body>

</html>